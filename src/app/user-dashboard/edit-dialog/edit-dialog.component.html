<main>
  <h3 style="font-weight: 500; text-align: center">Edit User</h3>
  <div class="main-container">
    <div>
      <form [formGroup]="editForm" style="width: fit-content">
        <mat-form-field appearance="outline">
          <mat-label>Name</mat-label>
          <input matInput placeholder="User Name" formControlName="userName" />
          <mat-icon matSuffix>person</mat-icon>
        </mat-form-field>
        <div
          *ngIf="
            editForm.get('userName')?.touched &&
            editForm.get('userName')?.invalid &&
            editForm.get('userName')?.dirty
          "
          class="invalid-field"
        >
          <div *ngIf="editForm.get('userName')?.hasError('required')">
            This field is required.
          </div>
        </div>

        <mat-form-field
          appearance="outline"
          matTooltip="Email updating is disabled."
        >
          <mat-label>Email</mat-label>
          <input
            matInput
            placeholder="User Email"
            formControlName="userEmail"
          />
          <mat-icon matSuffix>mail</mat-icon>
        </mat-form-field>
        <div
          *ngIf="
            editForm.get('userEmail')?.touched &&
            editForm.get('userEmail')?.invalid &&
            editForm.get('userEmail')?.dirty
          "
          class="invalid-field"
        >
          <div *ngIf="editForm.get('userEmail')?.hasError('required')">
            This field is required.
          </div>
          <div *ngIf="editForm.get('userEmail')?.hasError('email')">
            Email format is invalid.
          </div>
        </div>
      </form>
    </div>
    <div mat-dialog-actions>
      <button mat-button (click)="onCancelClick()">Cancel</button>
      <button mat-button (click)="onSaveClick()" [disabled]="editForm.invalid">
        Save
      </button>
    </div>
  </div>
</main>

<app-loader *ngIf="showLoader"></app-loader>
